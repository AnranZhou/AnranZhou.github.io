---
title: "[Python] 6. Object Oriented Programming"
date: '2018-11-26 15:30:00'
layout: post
tag:
- Python
category: blog
author: Anran Zhou
---
## OOP
* OOP vs. Procedure-oriented Programming

    |Feature|Type||
    |:---:|:---:|:---:|
    |Basic Unit|OOP|Class|
    ||POP|Function|
* OOP's features
    * Encapsulation
    * Inheritance
    * Polymorphism

### 1. Class and Instance
Class is the template; Instance is the object in the memory.

```Python
    # define a class
    class Student(object):

        def __init__(self, name, score):
            self.name = name
            self.score = score
    
    # instantiate an object
    s1 = Student('anran', 100)
    s2 = Student('yinjuan', 100)

```

* The classes of dynamic languages are defined in the running period of program.
* Dynamic language can bind member variables and member functions to each instance during running.

### 2. Access Control
|Notation|Syntax|
|:---:|:---:|
|private|\_\_\<name\>|
|not private, but take it as|\_\<name\>|
|special|\_\_\<name\>\_\_|
|public|\<name\>|

### 3. Inheritance and Polymorphism
* Inheritance
    * Base Class(Super Class) vs. Subclass
* Polymorphism
    * The function of subclass replace the function of base class with the same name.
* If there is a method using an object...
    * The object of subclass can replace the object of base class.(OCP)
* duck type(More general inheritance)

### 4. Object Info
* A problem
    * when we got an object, how do we know the data type, member variables and member functions of that object?
* Sol: `type(x)`, `isinstance(x, x)` and `dir(x)`
    * Examples:
        ```Python
            # type to find the class of an object
            >>> type(123)
            <class 'int'>
            >>> type('str')
            <class 'str'>
            >>> type(None)
            <type(None) 'NoneType'>
            >>> type(abs)
            <class 'builtin_function_or_method'>


            # isinstance to check the class of an object
            >>> isinstance('a', str)
            True
            >>> isinstance(123, int)
            True
            >>> isinstance(b'a', bytes)
            True

            >>> isinstance([1, 2, 3], (list, tuple))
            True
            >>> isinstance((1, 2, 3), (list, tuple))
            True


            # dir to list all properties and methods of an object
            # getattr(),setattr() and hasattr()
            >>> dir('ABC')
            ['__add__', '__class__',..., '__subclasshook__', 'capitalize', 'casefold',..., 'zfill']

            >>> class MyObject(object):
            ...     def __init__(self):
            ...         self.x = 9
            ...     def power(self):
            ...         return self.x * self.x
            ...
            >>> obj = MyObject()
            >>> hasattr(obj, 'x') # 有属性'x'吗？
            True
            >>> obj.x
            9
            >>> hasattr(obj, 'y') # 有属性'y'吗？
            False
            >>> setattr(obj, 'y', 19) # 设置一个属性'y'
            >>> hasattr(obj, 'y') # 有属性'y'吗？
            True
            >>> getattr(obj, 'y') # 获取属性'y'
            19
            >>> obj.y # 获取属性'y'
            19
        ```

### 5. Instance property and Class property
Instance property is belonged to instance, not shared.
Class property is belonged to class, shared by instances.

```Python
>>> class Student(object):
...     name = 'Student'
...
>>> s = Student() # 创建实例s
>>> print(s.name) # 打印name属性，因为实例并没有name属性，所以会继续查找class的name属性
Student
>>> print(Student.name) # 打印类的name属性
Student
>>> s.name = 'Michael' # 给实例绑定name属性
>>> print(s.name) # 由于实例属性优先级比类属性高，因此，它会屏蔽掉类的name属性
Michael
>>> print(Student.name) # 但是类属性并未消失，用Student.name仍然可以访问
Student
>>> del s.name # 如果删除实例的name属性
>>> print(s.name) # 再次调用s.name，由于实例的name属性没有找到，类的name属性就显示出来了
Student
```


### 6. Special Method



### 7. @property



### 8. Multiple Inheritance



### 9. Enumclass



### 10. Metaclass


